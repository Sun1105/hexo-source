---
title: 单体测试执行类_模板
category: JUnit
tags: [执行类]
date: 2025-11-21T08:45:04.994Z
---

# 单体测试执行类_模板

```java
@SpringJUnitConfig(
    classes = {
        TestConfig.class,
        Log.class,
        Application1.class,
        Service2.class,
        Component3.class,
        Component4.class,
        Component5.class
    },
    initializers = ConfigDataApplicationContextInitializer.class
)
@ExtendWith(OutputCaptureExtension.class)
@ExtendWith(LogTest.class)
public class test0001 {

    /** テスト対象 */
    @Autowired
    private Application application;

    @Autowired
    private TESTService testService;

    /** Mapper */
    @MockitoSpyBean
    private KKBAZA0300Mapper mockKkbaza0300Mapper;

    /** 共通サービス */
    @MockitoBean
    private COMMON01Service common01Service;

    /** システム日時 */
    private static final String SYSTEM_DATE = "20250102121314";

    /** シェルID */
    private static final String SHELL_ID = "ABC12";

    /**
     * 事前処理
     */
    @BeforeEach
    void setup() {
        // モック初期化
        MockitoAnnotations.openMocks(this);

        // 非同期で signalFlg を true に設定
        new Thread(() -> {
            try {
                Thread.sleep(2000);
                ReflectionTestUtils.setField(testService, "signalFlg", true);
            } catch (InterruptedException e) {
                // 例外は無視
            }
        }).start();
    }

    @AfterEach
    void teardown() {
        // 後処理（必要に応じて実装）
    }

    /**
     * テストケース: UT_TEST_01
     *
     * @throws InterruptedException
     */
    @Test
    @DirtiesContext(methodMode = DirtiesContext.MethodMode.AFTER_METHOD)
    @Sql(scripts = "classpath:UT_TEST_01.sql")
    void UT_TEST_01(CapturedOutput output) throws InterruptedException {
        // モック設定
        // データ連携
        // イメージ連携
        // SYRIUS稼働状況区分取得サービス

        // 期待値
        String expectedValue1 = "1";

        // テスト実行
        this.application.perform(SHELL_ID);

        // 確認値
        String resultValue1 = "";

        // 検証
        assertEquals(expectedValue1, resultValue1);
    }
}
