---
title: Junit单体测试中  全局log出力方法
category: Junit
tags: [log]
date: 2025-11-07T10:49:17.775Z
---

# 单体测试中全局日志输出方法

## 工具类：`LogTestUtils`

```java
package com.example.test.util;

import org.junit.jupiter.api.extension.*;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

/**
 * テスト開始・終了を自動でログ出力
 */
public class LogTestUtils implements BeforeTestExecutionCallback, AfterTestExecutionCallback {

    private static final Logger log = LoggerFactory.getLogger(LogTestUtils.class);

    @Override
    public void beforeTestExecution(ExtensionContext context) {
        String methodName = context.getTestMethod()
                                   .map(method -> method.getName())
                                   .orElse("unknownMethod");
        log.info("==================================== [START] {} ====================================", methodName);
    }

    @Override
    public void afterTestExecution(ExtensionContext context) {
        String methodName = context.getTestMethod()
                                   .map(method -> method.getName())
                                   .orElse("unknownMethod");
        log.info("==================================== [END] {} ====================================", methodName);
    }
}
```

---

## 如何启用（使用方法）

有两种常见方式把这个扩展应用到测试类：

### 方式 1：在测试类上使用注解

```java
import org.junit.jupiter.api.extension.ExtendWith;

@ExtendWith(LogTestUtils.class)
public class SomeTest {
    // 测试方法
}
```

### 方式 2：通过 JUnit 配置文件全局启用

在 `src/test/resources` 下创建或编辑 `junit-platform.properties` 文件，添加：

```
junit.jupiter.extensions.autodetection.enabled=true
```

并确保 `LogTestUtils` 类在类路径中。

---

## 日志输出效果

每个测试方法执行前后，都会自动输出类似以下日志：

```
==================================== [START] testMethodName ====================================
==================================== [END] testMethodName ====================================
```
