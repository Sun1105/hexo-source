---
title: ğŸ“ Mapper SQL æ‰§è¡Œåˆ°æ—¥å¿—è¾“å‡ºæµç¨‹å›¾
category: Mybatis
tags: [log, mapper, æµç¨‹å›¾]
date: 2025-11-28T12:48:47.940Z
---

<!DOCTYPE html>
<html lang="zh">
<head>
Â  <meta charset="UTF-8">
Â  <title>MyBatis SQL æ‰§è¡Œæµç¨‹å›¾</title>

Â  Â  <script type="module">
Â  Â  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
Â  Â  mermaid.initialize({ startOnLoad: true });
Â  </script>

Â  <style>
Â  Â  body {
Â  Â  Â  font-family: "Segoe UI", "Microsoft YaHei", sans-serif;
Â  Â  Â  margin: 40px;
Â  Â  Â  background-color: #f9f9f9;
Â  Â  Â  line-height: 1.8;
Â  Â  }
Â  Â  h1, h2 {
Â  Â  Â  color: #2c3e50;
Â  Â  }
Â  Â  .mermaid {
Â  Â  Â  background: #fff;
Â  Â  Â  padding: 20px;
Â  Â  Â  border-radius: 8px;
Â  Â  Â  box-shadow: 0 0 10px rgba(0,0,0,0.1);
Â  Â  Â  margin-bottom: 40px;
Â  Â  }
Â  Â  code {
Â  Â  Â  background: #eee;
Â  Â  Â  padding: 2px 6px;
Â  Â  Â  border-radius: 4px;
Â  Â  }
Â  Â  pre {
Â  Â  Â  background: #eee;
Â  Â  Â  padding: 12px;
Â  Â  Â  border-radius: 6px;
Â  Â  Â  overflow-x: auto;
Â  Â  }
Â  </style>
</head>

<body>

Â  <h1>MyBatis SQL æ‰§è¡Œæµç¨‹ï¼ˆå¯è§†åŒ–ç‰ˆï¼‰</h1>

Â  <h2>ğŸ“Œ æµç¨‹å›¾ï¼ˆMermaid æ¸²æŸ“ï¼‰</h2>

<div class="mermaid">
flowchart TD
Â  Â  A[è°ƒç”¨ Mapper æ–¹æ³•] --> B[MyBatis Executor\næ ¸å¿ƒæ‰§è¡Œå™¨]
Â  Â  B --> C[ç”Ÿæˆ SQL è¯­å¥æ¨¡æ¿\n(å¸¦ ? å ä½ç¬¦)]
Â  Â  C --> D[æ—¥å¿—é˜¶æ®µ 1 \nPreparing: SELECT ... WHERE ... = ?]
Â  Â  D --> E[å‚æ•°ç»‘å®š \nç»‘å®šæ–¹æ³•å‚æ•°åˆ° ?]
Â  Â  E --> F[æ—¥å¿—é˜¶æ®µ 2 \nParameters: 300000000 (String), 20250601 (String)]
Â  Â  F --> G[æ‰§è¡Œ SQL \nJDBC è°ƒç”¨ Connection â†’ PreparedStatement â†’ executeQuery/executeUpdate]
Â  Â  G --> H[è·å–æ‰§è¡Œç»“æœ \nSELECT â†’ ç»“æœé›†\nUPDATE/INSERT â†’ å½±å“è¡Œæ•°]
Â  Â  H --> I[æ—¥å¿—é˜¶æ®µ 3 \næ‰§è¡Œç»“æœ: Total = 1]
Â  Â  I --> J[è¿”å› Mapper æ–¹æ³•ç»“æœ]
</div>


Â  <h2>ğŸ“˜ è¯¦ç»†æ­¥éª¤è¯´æ˜</h2>

Â  <h3>1. è°ƒç”¨ Mapper æ–¹æ³•</h3>
Â  <p>ç”¨æˆ·é€šè¿‡ Mapper æ¥å£è°ƒç”¨å¯¹åº”æ–¹æ³•ã€‚</p>

Â  <h3>2. MyBatis Executor æ ¸å¿ƒæ‰§è¡Œå™¨</h3>
Â  <p>MyBatis æ ¸å¿ƒæ‰§è¡Œå™¨è´Ÿè´£æ•´ä¸ª SQL æ‰§è¡Œæµç¨‹ã€‚</p>

Â  <h3>3. ç”Ÿæˆ SQL è¯­å¥æ¨¡æ¿</h3>
Â  <p>æ ¹æ® Mapper XML æˆ–æ³¨è§£ç”Ÿæˆå¸¦ <code>?</code> å ä½ç¬¦çš„ SQLã€‚</p>

Â  <h3>4. æ—¥å¿—æ‰“å°é˜¶æ®µ 1: Preparing</h3>
Â  <pre>
==> Preparing: SELECT ... WHERE ... = ?
Â  </pre>

Â  <h3>5. å‚æ•°ç»‘å®š</h3>
Â  <p>å°†æ–¹æ³•å‚æ•°ç»‘å®šåˆ° SQL ä¸­çš„ <code>?</code> å ä½ç¬¦ã€‚</p>

Â  <h3>6. æ—¥å¿—æ‰“å°é˜¶æ®µ 2: Parameters</h3>
Â  <pre>
==> Parameters: 300000000 (String), 20250601 (String)
Â  </pre>

Â  <h3>7. æ‰§è¡Œ SQL</h3>
Â  <p>é€šè¿‡ JDBC è°ƒç”¨ï¼š</p>
Â  <ul>
Â  Â  <li>Connection</li>
Â  Â  <li>PreparedStatement</li>
Â  Â  <li>executeQuery() / executeUpdate()</li>
Â  </ul>

Â  <h3>8. è·å–æ‰§è¡Œç»“æœ</h3>
Â  <ul>
Â  Â  <li><strong>SELECT</strong> â†’ è¿”å›ç»“æœé›†</li>
Â  Â  <li><strong>UPDATE / INSERT</strong> â†’ è¿”å›å½±å“è¡Œæ•°</li>
Â  </ul>

Â  <h3>9. æ—¥å¿—æ‰“å°é˜¶æ®µ 3: æ‰§è¡Œç»“æœ</h3>
Â  <pre>
<== Total: 1
Â  </pre>

Â  <h3>10. è¿”å› Mapper æ–¹æ³•ç»“æœ</h3>
Â  <p>å°†ç»“æœè¿”å›ç»™è°ƒç”¨æ–¹ã€‚</p>

</body>
</html>
