---
title: ğŸ“ Mapper SQL æ‰§è¡Œåˆ°æ—¥å¿—è¾“å‡ºæµç¨‹å›¾
category: Mybatis
tags: [log, mapper, æµç¨‹å›¾]
date: 2025-11-28T12:55:17.899Z
---

<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>MyBatis SQL æ‰§è¡Œæµç¨‹å›¾</title>

  <script type="module">
    import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";
    mermaid.initialize({ startOnLoad: true });
  </script>

  <style>
    body {
      font-family: "Segoe UI", "Microsoft YaHei", sans-serif;
      margin: 40px;
      background-color: #f9f9f9;
      line-height: 1.8;
    }
    h1, h2 {
      color: #2c3e50;
    }
    .mermaid {
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      margin-bottom: 40px;
    }
    code {
      background: #eee;
      padding: 2px 6px;
      border-radius: 4px;
    }
    pre {
      background: #eee;
      padding: 12px;
      border-radius: 6px;
      overflow-x: auto;
    }
  </style>
</head>

<body>

  <h1>MyBatis SQL æ‰§è¡Œæµç¨‹ï¼ˆå¯è§†åŒ–ç‰ˆï¼‰</h1>

  <h2>ğŸ“Œ æµç¨‹å›¾ï¼ˆMermaid æ¸²æŸ“ï¼‰</h2>

  <div class="mermaid">
flowchart TD
    A[è°ƒç”¨ Mapper æ–¹æ³•] --> B[MyBatis Executor<br/>æ ¸å¿ƒæ‰§è¡Œå™¨]
    B --> C[ç”Ÿæˆ SQL æ¨¡æ¿<br/>å¸¦ ? å ä½ç¬¦]
    C --> D[æ—¥å¿—é˜¶æ®µ 1<br/>Preparing: SELECT ... WHERE ... = ?]
    D --> E[å‚æ•°ç»‘å®š<br/>å°†æ–¹æ³•å‚æ•°ç»‘å®šåˆ° ?]
    E --> F[æ—¥å¿—é˜¶æ®µ 2<br/>Parameters: 300000000(String), 20250601(String)]
    F --> G[æ‰§è¡Œ SQL<br/>JDBC: Connection â†’ PreparedStatement â†’ execute]
    G --> H[è·å–æ‰§è¡Œç»“æœ<br/>SELECT: ç»“æœé›†<br/>UPDATE/INSERT: å½±å“è¡Œæ•°]
    H --> I[æ—¥å¿—é˜¶æ®µ 3<br/>æ‰§è¡Œç»“æœ Total: 1]
    I --> J[è¿”å› Mapper æ–¹æ³•ç»“æœ]
  </div>

  <h2>ğŸ“˜ è¯¦ç»†æ­¥éª¤è¯´æ˜</h2>

  <h3>1. è°ƒç”¨ Mapper æ–¹æ³•</h3>
  <p>ç”¨æˆ·ç¨‹åºè°ƒç”¨ MyBatis Mapper æ¥å£ä¸­çš„æ–¹æ³•ã€‚</p>

  <h3>2. MyBatis Executor æ ¸å¿ƒæ‰§è¡Œå™¨</h3>
  <p>Executor è´Ÿè´£æ•´ä¸ª SQL æ‰§è¡Œçš„ç”Ÿå‘½å‘¨æœŸï¼ŒåŒ…æ‹¬ç¼“å­˜ã€è¯­å¥åˆ›å»ºã€ç»“æœå¤„ç†ç­‰ã€‚</p>

  <h3>3. ç”Ÿæˆ SQL æ¨¡æ¿</h3>
  <p>æ ¹æ® XML æˆ–æ³¨è§£åŠ¨æ€ç”Ÿæˆ SQLï¼Œå¹¶ä½¿ç”¨ <code>?</code> ä½œä¸ºå ä½ç¬¦ã€‚</p>

  <h3>4. æ—¥å¿—é˜¶æ®µ 1: Preparing</h3>
  <pre>
==> Preparing: SELECT ... WHERE ... = ?
  </pre>

  <h3>5. å‚æ•°ç»‘å®š</h3>
  <p>MyBatis å°†æ–¹æ³•ä¼ å…¥çš„å‚æ•°æ˜ å°„å¹¶ç»‘å®šåˆ° PreparedStatement çš„ ? ä¸Šã€‚</p>

  <h3>6. æ—¥å¿—é˜¶æ®µ 2: Parameters</h3>
  <pre>
==> Parameters: 300000000 (String), 20250601 (String)
  </pre>

  <h3>7. æ‰§è¡Œ SQLï¼ˆJDBCï¼‰</h3>
  <ul>
    <li>è·å– Connection</li>
    <li>åˆ›å»º PreparedStatement</li>
    <li>ç»‘å®šå‚æ•°</li>
    <li>executeQuery() æˆ– executeUpdate()</li>
  </ul>

  <h3>8. è·å–æ‰§è¡Œç»“æœ</h3>
  <ul>
    <li><strong>SELECT</strong> è¿”å› ResultSet</li>
    <li><strong>UPDATE / INSERT</strong> è¿”å›å—å½±å“è¡Œæ•°</li>
  </ul>

  <h3>9. æ—¥å¿—é˜¶æ®µ 3: Total</h3>
  <pre>
<== Total: 1
  </pre>

  <h3>10. è¿”å›ç»“æœ</h3>
  <p>MyBatis å°†æ‰§è¡Œç»“æœæ˜ å°„ä¸ºå¯¹è±¡å¹¶è¿”å›ç»™ Mapper è°ƒç”¨è€…ã€‚</p>

</body>
</html>
