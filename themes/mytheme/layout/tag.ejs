<!--
  tag.ejs
  标签页面模板
  功能：
    - 显示当前标签名称
    - 遍历该标签下的所有文章
    - 渲染为文章卡片列表
-->

<section class="main-section">
  <!-- 页面主容器，用于布局和样式控制 -->

  <!-- 标签标题 -->
  <h2 class="section-title">🏷️ <%= page.tag %> 标签</h2>
  <!-- emoji 🏷️ 用于视觉增强 -->
  <!-- <%= page.tag %> 动态输出当前页面所属标签名称 -->
  <!-- 最终显示效果示例：🏷️ Java 标签 -->

  <div class="post-list">
    <!-- 文章列表容器，用于存放该标签下的所有文章卡片 -->

    <% if (page.posts && page.posts.length) { %>
    <!-- 判断当前标签下是否有文章 -->
    <!-- page.posts → 当前页面文章数组 -->
    <!-- page.posts.length → 文章数量，大于 0 则进入循环 -->

      <% page.posts.each(function(post) { %>
      <!-- 遍历每篇文章 post -->
      
        <%- partial('_partial/post-card', { post: post }) %>

      <% }); %>
      <!-- 遍历文章结束 -->

    <% } else { %>
    <!-- 当前标签下没有文章 -->

      <p>该标签下暂无文章。</p>
      <!-- 提示用户该标签暂时为空 -->

    <% } %>
    <!-- 条件判断结束 -->

  </div>
  <!-- 文章列表容器结束 -->

</section>
<!-- 页面主容器结束 -->
